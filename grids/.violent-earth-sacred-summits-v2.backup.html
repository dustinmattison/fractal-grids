<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Violent Earth: Sacred Summits - 9Ã—9 Fractal Grid</title>
    <meta name="description" content="Interactive fractal grid exploring volcanic mountains as creators and destroyers - with multimedia download capability">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Georgia, serif;
            background: white;
            min-height: 100vh;
            padding: 20px;
            transition: padding 0.3s ease;
        }

        body.fullscreen-mode {
            padding: 0;
            overflow: hidden;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        body.fullscreen-mode .header {
            display: none;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .header p {
            font-size: 1.1rem;
            color: #333;
            font-style: italic;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
            background: #f5f5f5;
            padding: 12px 20px;
            border-radius: 50px;
            border: 2px solid #ccc;
            transition: all 0.3s ease;
        }

        body.fullscreen-mode .controls {
            position: fixed;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 255, 255, 0.97);
            padding: 5px 10px;
            margin-bottom: 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        }

        .btn {
            padding: 10px 20px;
            border: 2px solid #333;
            border-radius: 25px;
            background: white;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        body.fullscreen-mode .btn {
            padding: 4px 10px;
            font-size: 0.7rem;
            border-width: 1px;
        }

        .btn:hover {
            background: #f0f0f0;
            border-color: #000;
        }

        .btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .btn.flip-all {
            background: #8B0000;
            color: white;
            border-color: #000;
        }

        .btn.flip-all:hover {
            background: #660000;
        }

        .btn.lang-toggle {
            background: #1B4F72;
            color: white;
        }

        .btn.lang-toggle:hover {
            background: #0E2A3F;
        }

        .btn.fullscreen {
            background: #2c3e50;
            color: white;
        }

        .btn.fullscreen:hover {
            background: #1a252f;
        }

        .btn.survey {
            background: #27ae60;
            color: white;
            border-color: #229954;
        }

        .btn.survey:hover {
            background: #229954;
            transform: scale(1.05);
        }

        .btn.back {
            background: #e8e8e8;
        }

        .level-indicator {
            padding: 6px 16px;
            border: 2px solid #000;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        body.fullscreen-mode .level-indicator {
            padding: 2px 8px;
            font-size: 0.7rem;
            border-width: 1px;
        }

        .grid-container {
            max-width: 1200px;
            margin: 0 auto;
            perspective: 1000px;
            transition: all 0.3s ease;
        }

        body.fullscreen-mode .grid-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 95vw;
            width: 95vw;
            max-height: calc(100vh - 60px);
            height: calc(100vh - 60px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid {
            display: grid;
            gap: 15px;
            transition: all 0.6s ease;
            width: 100%;
        }

        .grid.level-0 {
            grid-template-columns: 1fr;
        }

        .grid.level-1 {
            grid-template-columns: repeat(3, 1fr);
        }

        .grid.level-2 {
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        body.fullscreen-mode .grid.level-2 {
            gap: 6px;
            max-height: calc(100vh - 70px);
            overflow: hidden;
        }

        .grid.level-2-5 {
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding-top: 30px;
        }

        .cell-container {
            perspective: 1000px;
            min-height: 200px;
        }

        body.fullscreen-mode .grid.level-2 .cell-container {
            min-height: 80px;
        }

        body.fullscreen-mode .grid.level-2 .subgrid .cell-container {
            min-height: 60px;
        }

        .grid.level-0 .cell-container {
            min-height: 400px;
        }

        .grid.level-2-5 .cell-container {
            min-height: 180px;
        }

        .cell-flipper {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .cell-container.flipped .cell-flipper {
            transform: rotateY(180deg);
        }

        .global-flip .cell-flipper {
            transform: rotateY(180deg);
        }

        .global-flip .cell-container.flipped .cell-flipper {
            transform: rotateY(0deg);
        }

        .cell {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        body.fullscreen-mode .cell {
            padding: 10px;
            font-size: 0.75rem;
        }

        .subgrid .cell {
            padding: 8px;
            font-size: 0.65rem;
        }

        body.fullscreen-mode .subgrid .cell {
            padding: 4px;
            font-size: 0.55rem;
        }

        .cell:hover {
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .cell.front {
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
        }

        .cell.back {
            background: linear-gradient(135deg, #fffaf0 0%, #fff5e6 100%);
            transform: rotateY(180deg);
        }

        .cell.subsun {
            background: linear-gradient(135deg, #e8e8e8 0%, #d0d0d0 100%);
            border: 2px solid #333;
            font-weight: bold;
        }

        .cell.back.subsun {
            background: linear-gradient(135deg, #e8e8e8 0%, #d0d0d0 100%);
            border: 2px solid #333;
        }

        /* Position-based colors for L1 planets, L2 subsuns, and central 3x3 grid in L2 */
        .grid.level-1 .cell.pos-1,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-1,
        .cell.subsun.pos-1 { background: linear-gradient(135deg, #ffe6e6 0%, #ffcccc 100%); }
        .grid.level-1 .cell.back.pos-1,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-1,
        .cell.back.subsun.pos-1 { background: linear-gradient(135deg, #ffe6e6 0%, #ffcccc 100%); }
        
        .grid.level-1 .cell.pos-2,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-2,
        .cell.subsun.pos-2 { background: linear-gradient(135deg, #e6f2ff 0%, #cce5ff 100%); }
        .grid.level-1 .cell.back.pos-2,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-2,
        .cell.back.subsun.pos-2 { background: linear-gradient(135deg, #e6f2ff 0%, #cce5ff 100%); }
        
        .grid.level-1 .cell.pos-3,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-3,
        .cell.subsun.pos-3 { background: linear-gradient(135deg, #e6ffe6 0%, #ccffcc 100%); }
        .grid.level-1 .cell.back.pos-3,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-3,
        .cell.back.subsun.pos-3 { background: linear-gradient(135deg, #e6ffe6 0%, #ccffcc 100%); }
        
        .grid.level-1 .cell.pos-4,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-4,
        .cell.subsun.pos-4 { background: linear-gradient(135deg, #fff0e6 0%, #ffe0cc 100%); }
        .grid.level-1 .cell.back.pos-4,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-4,
        .cell.back.subsun.pos-4 { background: linear-gradient(135deg, #fff0e6 0%, #ffe0cc 100%); }
        
        .grid.level-1 .cell.pos-6,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-6,
        .cell.subsun.pos-6 { background: linear-gradient(135deg, #f0e6ff 0%, #e0ccff 100%); }
        .grid.level-1 .cell.back.pos-6,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-6,
        .cell.back.subsun.pos-6 { background: linear-gradient(135deg, #f0e6ff 0%, #e0ccff 100%); }
        
        .grid.level-1 .cell.pos-7,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-7,
        .cell.subsun.pos-7 { background: linear-gradient(135deg, #ffe6f0 0%, #ffcce0 100%); }
        .grid.level-1 .cell.back.pos-7,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-7,
        .cell.back.subsun.pos-7 { background: linear-gradient(135deg, #ffe6f0 0%, #ffcce0 100%); }
        
        .grid.level-1 .cell.pos-8,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-8,
        .cell.subsun.pos-8 { background: linear-gradient(135deg, #e6ffff 0%, #ccffff 100%); }
        .grid.level-1 .cell.back.pos-8,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-8,
        .cell.back.subsun.pos-8 { background: linear-gradient(135deg, #e6ffff 0%, #ccffff 100%); }
        
        .grid.level-1 .cell.pos-9,
        .grid.level-2 .subgrid:nth-child(5) .cell.pos-9,
        .cell.subsun.pos-9 { background: linear-gradient(135deg, #ffffe6 0%, #ffffcc 100%); }
        .grid.level-1 .cell.back.pos-9,
        .grid.level-2 .subgrid:nth-child(5) .cell.back.pos-9,
        .cell.back.subsun.pos-9 { background: linear-gradient(135deg, #ffffe6 0%, #ffffcc 100%); }

        .cell-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 12px;
            color: #222;
        }

        body.fullscreen-mode .cell-title {
            font-size: 0.85rem;
            margin-bottom: 6px;
        }

        .subgrid .cell-title {
            font-size: 0.75rem;
            margin-bottom: 4px;
            line-height: 1.1;
        }

        body.fullscreen-mode .subgrid .cell-title {
            font-size: 0.6rem;
            margin-bottom: 2px;
        }

        .cell-content {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #444;
        }

        body.fullscreen-mode .cell-content {
            font-size: 0.7rem;
            line-height: 1.3;
        }

        .subgrid .cell-content {
            font-size: 0.6rem;
            line-height: 1.2;
        }

        body.fullscreen-mode .subgrid .cell-content {
            font-size: 0.5rem;
            line-height: 1.1;
        }

        .flip-indicator {
            position: absolute;
            bottom: 8px;
            right: 8px;
            font-size: 1.2rem;
            opacity: 0.4;
            transition: opacity 0.3s ease;
        }

        body.fullscreen-mode .flip-indicator {
            font-size: 0.8rem;
            bottom: 4px;
            right: 4px;
        }

        .cell:hover .flip-indicator {
            opacity: 0.8;
        }

        /* Cell number indicator in bottom-left corner */
        .cell-number {
            position: absolute;
            bottom: 8px;
            left: 8px;
            font-size: 0.9rem;
            font-weight: bold;
            opacity: 0.5;
            color: #333;
            background: rgba(255, 255, 255, 0.7);
            padding: 2px 6px;
            border-radius: 4px;
            pointer-events: none;
        }

        body.fullscreen-mode .cell-number {
            font-size: 0.65rem;
            bottom: 4px;
            left: 4px;
            padding: 1px 4px;
        }

        .subgrid .cell-number {
            font-size: 0.7rem;
            padding: 1px 4px;
        }

        /* Multimedia Styles */
        .cell-image {
            width: 100%;
            height: auto;
            max-height: 150px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 10px;
            display: block;
        }

        body.fullscreen-mode .cell-image {
            max-height: 80px;
            margin-bottom: 5px;
        }

        .subgrid .cell-image {
            max-height: 60px;
            margin-bottom: 5px;
        }

        .media-controls {
            margin-top: 6px;
            padding-top: 6px;
            border-top: 1px solid rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        body.fullscreen-mode .media-controls {
            margin-top: 3px;
            padding-top: 3px;
            gap: 2px;
        }

        .media-item {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            color: #555;
            flex-wrap: wrap;
        }

        body.fullscreen-mode .media-item {
            font-size: 0.55rem;
            gap: 3px;
        }

        .subgrid .media-item {
            font-size: 0.6rem;
            gap: 3px;
        }

        .media-icon {
            font-size: 0.95rem;
            flex-shrink: 0;
        }

        body.fullscreen-mode .media-icon {
            font-size: 0.75rem;
        }

        .media-title {
            flex: 1;
            min-width: 0;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            font-size: 0.7rem;
        }

        .media-btn {
            padding: 2px 6px;
            border: 1px solid #666;
            border-radius: 3px;
            background: white;
            cursor: pointer;
            font-size: 0.7rem;
            transition: all 0.2s ease;
            text-decoration: none;
            color: #333;
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }

        .media-btn:hover {
            background: #f0f0f0;
            border-color: #000;
        }

        body.fullscreen-mode .media-btn {
            padding: 2px 6px;
            font-size: 0.6rem;
        }

        .media-player {
            width: 100%;
            margin-top: 8px;
            border-radius: 4px;
            display: none;
        }

        .media-player.active {
            display: block;
        }

        .media-player audio,
        .media-player video {
            width: 100%;
            border-radius: 4px;
        }

        .media-size {
            font-size: 0.75rem;
            color: #888;
            margin-left: 4px;
        }

        .subgrid {
            position: relative;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 8px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
            border: 2px solid #ddd;
        }

        /* Black border around central 3x3 grid in L2 */
        .grid.level-2 .subgrid:nth-child(5) {
            border: 4px solid #000;
            background: #fff;
        }

        /* Thick border for VIOLENT EARTH in L1 */
        .grid.level-1 .cell-container:nth-child(5) .cell.subsun {
            border: 8px solid #000;
        }

        /* Extra thick border for VIOLENT EARTH (the true center of the entire 9x9) */
        .grid.level-2 .subgrid:nth-child(5) .cell-container:nth-child(5) .cell.subsun {
            border: 8px solid #000;
        }

        body.fullscreen-mode .subgrid {
            gap: 4px;
            padding: 4px;
            border-width: 2px;
        }

        .grid.level-2 .subgrid:hover {
            border-color: #333;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        /* Prevent hover effects on L2 overview cells to avoid flickering */
        .grid.level-2 .subgrid .cell:hover {
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transform: none;
        }

        .subgrid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0);
            border-radius: 10px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 0;
        }

        .subgrid-overlay:hover {
            background: rgba(0, 0, 0, 0.05);
            font-size: 1.5rem;
        }

        body.fullscreen-mode .subgrid-overlay:hover {
            font-size: 1rem;
        }

        .subgrid-overlay:hover::after {
            content: "ğŸ” Click to Zoom";
            color: #333;
            font-weight: bold;
            text-shadow: 0 0 10px white;
        }

        .subgrid .cell-container {
            min-height: 60px;
        }

        body.fullscreen-mode .subgrid .cell-container {
            min-height: 50px;
        }

        .subgrid-title {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: #222;
            padding: 10px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #e6f3ff 0%, #cce7ff 100%);
            border: 2px solid #0066cc;
            border-radius: 8px;
        }

        body.fullscreen-mode .subgrid-title {
            font-size: 1rem;
            padding: 5px;
            margin-bottom: 5px;
        }

        @media print {
            body {
                padding: 0;
            }
            .controls {
                display: none;
            }
            .header {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸŒ‹ Violent Earth: Sacred Summits / æš´çƒˆåœ°çƒï¼šç¥åœ£é«˜å³°</h1>
        <p>Interactive 9Ã—9 Fractal Grid Visualization</p>
    </div>

    <div class="controls">
        <button id="zoomIn" class="btn">Zoom In â•</button>
        <span id="levelIndicator" class="level-indicator">Level 1: Sacred Summits Overview</span>
        <button id="zoomOut" class="btn">Zoom Out â–</button>
        <button id="backBtn" class="btn back" style="display: none;">â—€ Back to L2</button>
        <button id="flipAll" class="btn flip-all">Flip All ğŸ”„</button>
        <button id="langToggle" class="btn lang-toggle">UI Language: EN ğŸŒ</button>
        <button id="fullscreen" class="btn fullscreen">Presentation Mode ğŸ–¥ï¸</button>
        <button id="surveyBtn" class="btn survey" onclick="window.open('http://localhost:8501', '_blank')" title="Complete your weekly reflection">ğŸ“ Weekly Survey</button>
    </div>

    <div id="gridContainer" class="grid-container">
        <div id="grid" class="grid level-1"></div>
    </div>

    <script>
        const contentData = {
            L0: [
                {
                    titleEn: "VIOLENT EARTH",
                    titleZh: "æš´çƒˆåœ°çƒ",
                    contentEn: "Sacred Summits",
                    contentZh: "ç¥åœ£é«˜å³°",
                    descEn: "Volcanic mountains as creators and destroyers - life-giving fertile soils and life-threatening eruptions",
                    descZh: "ç«å±±å±±è„‰ä½œä¸ºåˆ›é€ è€…å’Œæ¯ç­è€… - èµ‹äºˆç”Ÿå‘½çš„è‚¥æ²ƒåœŸå£¤å’Œå¨èƒç”Ÿå‘½çš„å–·å‘",
                    cellClass: "subsun"
                }
            ],
            L1: [
                {titleEn: "Mount Fuji", titleZh: "å¯Œå£«å±±", contentEn: "Japan's sacred mountain", contentZh: "æ—¥æœ¬çš„ç¥åœ£å±±è„‰", descEn: "3,776m, last erupted 1707", descZh: "æµ·æ‹”3,776ç±³ï¼Œæœ€åå–·å‘äº1707å¹´",    
                audioUrl: "/grids/audio/Cell1-Mount Fuji_ Sleeping Giant, Sacred Mountain.mp3",
                audioTitle: "Audio (13.2 MB)",
                audioSize: "13.2 MB",
                videoUrl: "/grids/videos/Cell1-Mount Fuji_ Sleeping Giant, Sacred Mountain.mp4",
                videoTitle: "Video (33.2 MB)",
                videoSize: "33.2 MB", cellClass: ""},
                {titleEn: "Volcanic Threats", titleZh: "ç«å±±å¨èƒ", contentEn: "Dangers posed", contentZh: "æ„æˆçš„å±é™©", descEn: "Ash, lava, displacement", descZh: "ç«å±±ç°ã€ç†”å²©ã€æµç¦»å¤±æ‰€", 
                audioUrl: "/grids/audio/Cell2-Volcanoes_ Dangers and Stories from the Ring of Fire.mp3",
                audioTitle: "Audio (10.3 MB)",
                audioSize: "10.3 MB",
                videoUrl: "/grids/videos/Cell2-Volcanoes_ Dangers and Stories from the Ring of Fire2.mp4",
                videoTitle: "Video (28.9 MB)",
                videoSize: "28.9 MB", cellClass: ""},
                {titleEn: "Scientific Monitoring", titleZh: "ç§‘å­¦ç›‘æµ‹", contentEn: "Tracking activity", contentZh: "è¿½è¸ªæ´»åŠ¨", descEn: "Earthquake detection", descZh: "åœ°éœ‡æ£€æµ‹", 
                audioUrl: "/grids/audio/Cell3-Living with Volcanoes.mp3",
                audioTitle: "Audio (15.2 MB)",
                audioSize: "15.2 MB",
                videoUrl: "/grids/videos/Cell3-Living with Volcanoes(1).mp4",
                videoTitle: "Video (36.8 MB)",
                videoSize: "36.8 MB", cellClass: ""},
                {titleEn: "PopocatÃ©petl", titleZh: "æ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±", contentEn: "Mexico's smoking mountain", contentZh: "å¢¨è¥¿å“¥çš„å†’çƒŸä¹‹å±±", descEn: "World's tallest active", descZh: "ä¸–ç•Œæœ€é«˜æ´»ç«å±±",  
                audioUrl: "/grids/audio/Cell4-The Smoking Mountain_ Popocatepetls Power and the People Nearby.mp3",
                audioTitle: "Audio (14.3 MB)",
                audioSize: "14.3 MB",
                videoUrl: "/grids/videos/Cell4-The Smoking Mountain_ Popocatepetls Power and the People Nearby.mp4",
                videoTitle: "Video (39.5 MB)",
                videoSize: "39.5 MB", cellClass: ""},
                {titleEn: "VIOLENT EARTH", titleZh: "æš´çƒˆåœ°çƒ", contentEn: "Sacred summits", contentZh: "ç¥åœ£é«˜å³°", descEn: "Creators and destroyers", descZh: "åˆ›é€ è€…å’Œæ¯ç­è€…", 
                audioUrl: "/grids/audio/Cell0-The Two Faces of Volcanoes.mp3",
                audioTitle: "Audio (8.7 MB)",
                audioSize: "8.7 MB",
                videoUrl: "/grids/videos/Cell0-The Two Faces of Volcanoes(1).mp4",
                videoTitle: "Video (25.3 MB)",
                videoSize: "25.3 MB",
                cellClass: "subsun"},
                {titleEn: "Religious Significance", titleZh: "å®—æ•™æ„ä¹‰", contentEn: "Spiritual meaning", contentZh: "ç²¾ç¥æ„ä¹‰", descEn: "Sacred holy sites", descZh: "ç¥åœ£åœ£åœ°", 
                audioUrl: "/grids/audio/Cell5-Sacred Volcanoes and Their Magic.mp3",
                audioTitle: "Audio (9.8 MB)",
                audioSize: "9.8 MB",
                videoUrl: "/grids/videos/Cell5-Sacred Volcanoes and Their Magic.mp4",
                videoTitle: "Video (27.7 MB)",
                videoSize: "27.7 MB", cellClass: ""},
                {titleEn: "Human Settlement", titleZh: "äººç±»å®šå±…", contentEn: "Living near danger", contentZh: "å±…ä½åœ¨å±é™©é™„è¿‘", descEn: "Rich volcanic soils", descZh: "å¯Œå«ç«å±±åœŸå£¤", 
                audioUrl: "/grids/audio/Cell6-Why People Live Near Volcanoes.mp3",
                audioTitle: "Audio (15.4 MB)",
                audioSize: "15.4 MB",
                videoUrl: "/grids/videos/Cell6-Why People Live Near Volcanoes.mp4",
                videoTitle: "Video (37.7 MB)",
                videoSize: "37.7 MB", cellClass: ""},
                {titleEn: "Cultural Practices", titleZh: "æ–‡åŒ–ä¹ ä¿—", contentEn: "Honoring volcanoes", contentZh: "å´‡æ•¬ç«å±±", descEn: "Ceremonies and rituals", descZh: "ä»ªå¼å’Œå…¸ç¤¼", 
                audioUrl: "/grids/audio/Cell7-Magic Mountains and the Secrets of Sacred Volcanoes(1).mp3",
                audioTitle: "Audio (16.1 MB)",
                audioSize: "16.1 MB",
                videoUrl: "/grids/videos/Cell7-Magic Mountains and the Secrets of Sacred Volcanoes(2).mp4",
                videoTitle: "Video (39.1 MB)",
                videoSize: "39.1 MB", cellClass: ""},
                {titleEn: "Pacific Ring of Fire", titleZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦", contentEn: "Volcanic zone", contentZh: "ç«å±±åœ°å¸¦", descEn: "Tectonic plate boundaries", descZh: "æ„é€ æ¿å—è¾¹ç•Œ", 
                audioUrl: "/grids/audio/Cell2-Volcanoes_ Dangers and Stories from the Ring of Fire.mp3",
                audioTitle: "Audio (10.3 MB)",
                audioSize: "10.3 MB",
                videoUrl: "/grids/videos/Cell2-Volcanoes_ Dangers and Stories from the Ring of Fire2.mp4",
                videoTitle: "Video (28.9 MB)",
                videoSize: "28.9 MB", cellClass: ""}
            ],
            L2: [
                // SUBGRID 1 (Top-Left): Mount Fuji expanded
                {
                    titleEn: "Mount Fuji",
                    titleZh: "å¯Œå£«å±±",
                    cells: [
                        {titleEn: "Geographical Prominence", titleZh: "åœ°ç†æ˜¾è‘—æ€§", contentEn: "3,776m elevation", contentZh: "æµ·æ‹”3,776ç±³", descEn: "Highest point", descZh: "æœ€é«˜ç‚¹", cellClass: "", fullContentEn: "Standing at 3,776 meters, Mount Fuji dominates the landscape as Japan's highest point, visible from Tokyo on clear days.", fullContentZh: "å¯Œå£«å±±æµ·æ‹”3,776ç±³ï¼Œä½œä¸ºæ—¥æœ¬æœ€é«˜ç‚¹ä¸»å¯¼ç€æ™¯è§‚ï¼Œåœ¨æ™´æœ—çš„æ—¥å­é‡Œå¯ä»¥ä»ä¸œäº¬çœ‹åˆ°ã€‚"},
                        {titleEn: "Volcanic Classification", titleZh: "ç«å±±åˆ†ç±»", contentEn: "Dormant stratovolcano", contentZh: "ä¼‘çœ å±‚çŠ¶ç«å±±", descEn: "Capable of eruption", descZh: "èƒ½å¤Ÿå–·å‘", cellClass: "", fullContentEn: "Scientists classify Fuji as a dormant stratovolcano, meaning it remains capable of eruption despite its current inactive state.", fullContentZh: "ç§‘å­¦å®¶å°†å¯Œå£«å±±åˆ†ç±»ä¸ºä¼‘çœ çš„å±‚çŠ¶ç«å±±ï¼Œæ„å‘³ç€å°½ç®¡ç›®å‰å¤„äºéæ´»è·ƒçŠ¶æ€ï¼Œå®ƒä»ç„¶èƒ½å¤Ÿå–·å‘ã€‚"},
                        {titleEn: "Historical Eruption Pattern", titleZh: "å†å²å–·å‘æ¨¡å¼", contentEn: "1707 HÅei eruption", contentZh: "1707å¹´å®æ°¸å–·å‘", descEn: "Major ash deposits", descZh: "å¤§é‡ç«å±±ç°", cellClass: "", fullContentEn: "The 1707 HÅei eruption deposited substantial ash across the Edo region, demonstrating the volcano's destructive potential.", fullContentZh: "1707å¹´å®æ°¸å–·å‘åœ¨æ±Ÿæˆ·åœ°åŒºæ²‰ç§¯äº†å¤§é‡ç«å±±ç°ï¼Œå±•ç¤ºäº†ç«å±±çš„ç ´åæ½œåŠ›ã€‚"},
                        {titleEn: "Urban Proximity Risks", titleZh: "åŸå¸‚é‚»è¿‘é£é™©", contentEn: "112 km from Tokyo", contentZh: "è·ä¸œäº¬112å…¬é‡Œ", descEn: "Threatens metropolis", descZh: "å¨èƒå¤§éƒ½å¸‚", cellClass: "", fullContentEn: "Located merely 112 kilometers from Tokyo, Fuji poses significant threats to one of the world's largest metropolitan populations.", fullContentZh: "å¯Œå£«å±±è·ç¦»ä¸œäº¬ä»…112å…¬é‡Œï¼Œå¯¹ä¸–ç•Œä¸Šæœ€å¤§çš„å¤§éƒ½å¸‚äººå£ä¹‹ä¸€æ„æˆé‡å¤§å¨èƒã€‚"},
                        {titleEn: "Mount Fuji", titleZh: "å¯Œå£«å±±", contentEn: "Japan's sacred mountain", contentZh: "æ—¥æœ¬çš„ç¥åœ£å±±è„‰", descEn: "3,776m, last erupted 1707", descZh: "æµ·æ‹”3,776ç±³ï¼Œæœ€åå–·å‘äº1707å¹´", cellClass: "subsun", fullContentEn: "Mount Fuji represents Japan's most iconic natural landmark, combining geological significance with profound cultural meaning for the Japanese people.", fullContentZh: "å¯Œå£«å±±ä»£è¡¨æ—¥æœ¬æœ€å…·æ ‡å¿—æ€§çš„è‡ªç„¶åœ°æ ‡ï¼Œå°†åœ°è´¨æ„ä¹‰ä¸æ—¥æœ¬äººæ°‘çš„æ·±åˆ»æ–‡åŒ–æ„ä¹‰ç›¸ç»“åˆã€‚"},
                        {titleEn: "Population Exposure", titleZh: "äººå£æš´éœ²", contentEn: "4 million at risk", contentZh: "400ä¸‡äººé£é™©", descEn: "Direct impact zone", descZh: "ç›´æ¥å½±å“åŒº", cellClass: "", fullContentEn: "Approximately four million residents inhabit areas that would face direct consequences from a major eruption event.", fullContentZh: "çº¦400ä¸‡å±…æ°‘å±…ä½åœ¨å°†é¢ä¸´é‡å¤§å–·å‘äº‹ä»¶ç›´æ¥åæœçš„åœ°åŒºã€‚"},
                        {titleEn: "Tourism and Pilgrimage", titleZh: "æ—…æ¸¸å’Œæœåœ£", contentEn: "Climbing season", contentZh: "ç™»å±±å­£èŠ‚", descEn: "Hundreds of thousands", descZh: "æ•°åä¸‡æ¸¸å®¢", cellClass: "", fullContentEn: "The official climbing season attracts hundreds of thousands of visitors seeking both recreational and spiritual experiences.", fullContentZh: "å®˜æ–¹ç™»å±±å­£èŠ‚å¸å¼•äº†æ•°åä¸‡å¯»æ±‚å¨±ä¹å’Œç²¾ç¥ä½“éªŒçš„æ¸¸å®¢ã€‚"},
                        {titleEn: "Religious Traditions", titleZh: "å®—æ•™ä¼ ç»Ÿ", contentEn: "Shinto beliefs", contentZh: "ç¥é“æ•™ä¿¡ä»°", descEn: "Holy site", descZh: "åœ£åœ°", cellClass: "", fullContentEn: "Shinto beliefs attribute sacred qualities to the mountain, establishing it as a holy site for centuries of worship.", fullContentZh: "ç¥é“æ•™ä¿¡ä»°å°†ç¥åœ£å“è´¨å½’äºè¿™åº§å±±ï¼Œä½¿å…¶æˆä¸ºæ•°ä¸ªä¸–çºªå´‡æ‹œçš„åœ£åœ°ã€‚"},
                        {titleEn: "Cultural Symbolism", titleZh: "æ–‡åŒ–è±¡å¾", contentEn: "National symbol", contentZh: "å›½å®¶è±¡å¾", descEn: "Japanese identity", descZh: "æ—¥æœ¬èº«ä»½", cellClass: "", fullContentEn: "Fuji serves as Japan's national symbol, appearing in countless artistic works and representing Japanese identity globally.", fullContentZh: "å¯Œå£«å±±ä½œä¸ºæ—¥æœ¬çš„å›½å®¶è±¡å¾ï¼Œå‡ºç°åœ¨æ— æ•°è‰ºæœ¯ä½œå“ä¸­ï¼Œä»£è¡¨ç€å…¨çƒèŒƒå›´å†…çš„æ—¥æœ¬èº«ä»½ã€‚"}
                    ]
                },
                // SUBGRID 2: Volcanic Threats
                {
                    titleEn: "Volcanic Threats",
                    titleZh: "ç«å±±å¨èƒ",
                    cells: [
                        {titleEn: "Ash Cloud Dispersion", titleZh: "ç«å±±ç°äº‘æ‰©æ•£", contentEn: "Volcanic ash can travel hundreds of kilometers, creating darkness, contaminating water supplies, and disrupting aviation systems.", contentZh: "ç«å±±ç°å¯ä»¥ä¼ æ’­æ•°ç™¾å…¬é‡Œï¼Œé€ æˆé»‘æš—ï¼Œæ±¡æŸ“æ°´æºï¼Œå¹¶æ‰°ä¹±èˆªç©ºç³»ç»Ÿã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Lava Flow Destruction", titleZh: "ç†”å²©æµç ´å", contentEn: "Molten rock exceeding 1,000Â°C advances slowly but inevitably, incinerating structures and permanently altering landscapes.", contentZh: "è¶…è¿‡1,000Â°Cçš„ç†”èå²©çŸ³ç¼“æ…¢ä½†ä¸å¯é¿å…åœ°æ¨è¿›ï¼Œç„šçƒ§å»ºç­‘ç‰©å¹¶æ°¸ä¹…æ”¹å˜æ™¯è§‚ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Pyroclastic Flow Velocity", titleZh: "ç«å±±ç¢å±‘æµé€Ÿåº¦", contentEn: "Superheated gas and rock fragments can race down slopes at speeds exceeding 700 kilometers per hour.", contentZh: "è¿‡çƒ­çš„æ°”ä½“å’Œå²©çŸ³ç¢ç‰‡å¯ä»¥ä»¥è¶…è¿‡æ¯å°æ—¶700å…¬é‡Œçš„é€Ÿåº¦æ²¿æ–œå¡é£é©°ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Evacuation Imperatives", titleZh: "ç–æ•£å¿…è¦æ€§", contentEn: "Authorities must coordinate mass population movements, as demonstrated by the 26,000 people displaced during El Popo's 2000 event.", contentZh: "å½“å±€å¿…é¡»åè°ƒå¤§è§„æ¨¡äººå£è¿ç§»ï¼Œæ­£å¦‚æ³¢æ³¢ç«å±±2000å¹´äº‹ä»¶æœŸé—´æµç¦»å¤±æ‰€çš„26,000äººæ‰€è¯æ˜çš„é‚£æ ·ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Volcanic Threats", titleZh: "ç«å±±å¨èƒ", contentEn: "Dangers posed", contentZh: "æ„æˆçš„å±é™©", descEn: "Ash, lava, displacement", descZh: "ç«å±±ç°ã€ç†”å²©ã€æµç¦»å¤±æ‰€", cellClass: "subsun", fullContentEn: "Volcanic eruptions generate diverse catastrophic phenomena that threaten human life, infrastructure, and economic stability across vast regions.", fullContentZh: "ç«å±±å–·å‘äº§ç”Ÿå¤šæ ·åŒ–çš„ç¾éš¾æ€§ç°è±¡ï¼Œå¨èƒå¹¿å¤§åœ°åŒºçš„äººç±»ç”Ÿå‘½ã€åŸºç¡€è®¾æ–½å’Œç»æµç¨³å®šã€‚"},
                        {titleEn: "Economic Devastation", titleZh: "ç»æµç ´å", contentEn: "Property destruction eliminates housing, agricultural lands, and business infrastructure, creating long-term financial hardship.", contentZh: "è´¢äº§ç ´åæ¶ˆé™¤äº†ä½æˆ¿ã€å†œä¸šç”¨åœ°å’Œå•†ä¸šåŸºç¡€è®¾æ–½ï¼Œé€ æˆé•¿æœŸè´¢åŠ¡å›°éš¾ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Mortality Statistics", titleZh: "æ­»äº¡ç‡ç»Ÿè®¡", contentEn: "Historical eruptions have caused thousands of deaths, with future events potentially threatening even larger populations.", contentZh: "å†å²ä¸Šçš„å–·å‘å·²é€ æˆæ•°åƒäººæ­»äº¡ï¼Œæœªæ¥äº‹ä»¶å¯èƒ½å¨èƒæ›´å¤§çš„äººå£ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Infrastructure Collapse", titleZh: "åŸºç¡€è®¾æ–½å´©æºƒ", contentEn: "Roads, bridges, communication networks, and utilities suffer severe damage, isolating affected communities.", contentZh: "é“è·¯ã€æ¡¥æ¢ã€é€šè®¯ç½‘ç»œå’Œå…¬ç”¨äº‹ä¸šé­å—ä¸¥é‡æŸå®³ï¼Œä½¿å—å½±å“çš„ç¤¾åŒºå­¤ç«‹æ— æ´ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Climate Modification", titleZh: "æ°”å€™æ”¹å˜", contentEn: "Major eruptions inject particles into the stratosphere, potentially causing global temperature decreases and agricultural disruption.", contentZh: "é‡å¤§å–·å‘å°†é¢—ç²’æ³¨å…¥å¹³æµå±‚ï¼Œå¯èƒ½å¯¼è‡´å…¨çƒæ¸©åº¦ä¸‹é™å’Œå†œä¸šä¸­æ–­ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 3: Scientific Monitoring
                {
                    titleEn: "Scientific Monitoring",
                    titleZh: "ç§‘å­¦ç›‘æµ‹",
                    cells: [
                        {titleEn: "Seismological Networks", titleZh: "åœ°éœ‡å­¦ç½‘ç»œ", contentEn: "Dense arrays of seismometers continuously record underground tremors that often precede volcanic activity by days or weeks.", contentZh: "å¯†é›†çš„åœ°éœ‡ä»ªé˜µåˆ—æŒç»­è®°å½•é€šå¸¸åœ¨ç«å±±æ´»åŠ¨å‰å‡ å¤©æˆ–å‡ å‘¨å‘ç”Ÿçš„åœ°ä¸‹éœ‡åŠ¨ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Ground Deformation Measurement", titleZh: "åœ°é¢å˜å½¢æµ‹é‡", contentEn: "GPS stations and satellite radar detect millimeter-scale surface changes indicating magma accumulation beneath the volcano.", contentZh: "GPSç«™å’Œå«æ˜Ÿé›·è¾¾æ£€æµ‹æ¯«ç±³çº§çš„åœ°è¡¨å˜åŒ–ï¼Œè¡¨æ˜ç«å±±ä¸‹æ–¹çš„å²©æµ†ç§¯ç´¯ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Gas Emission Analysis", titleZh: "æ°”ä½“æ’æ”¾åˆ†æ", contentEn: "Scientists monitor sulfur dioxide and carbon dioxide concentrations, as increased emissions suggest rising magma.", contentZh: "ç§‘å­¦å®¶ç›‘æµ‹äºŒæ°§åŒ–ç¡«å’ŒäºŒæ°§åŒ–ç¢³æµ“åº¦ï¼Œå› ä¸ºæ’æ”¾å¢åŠ è¡¨æ˜å²©æµ†ä¸Šå‡ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Expert Personnel", titleZh: "ä¸“å®¶äººå‘˜", contentEn: "Dedicated researchers like Dr. Ukawa and Dr. ValdÃ©s devote careers to understanding specific volcanic systems.", contentZh: "åƒå®‡å·åšå£«å’Œå·´å°”å¾·æ–¯åšå£«è¿™æ ·çš„ä¸“èŒç ”ç©¶äººå‘˜å°†èŒä¸šç”Ÿæ¶¯å¥‰çŒ®ç»™ç†è§£ç‰¹å®šçš„ç«å±±ç³»ç»Ÿã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Scientific Monitoring", titleZh: "ç§‘å­¦ç›‘æµ‹", contentEn: "Tracking activity", contentZh: "è¿½è¸ªæ´»åŠ¨", descEn: "Earthquake detection", descZh: "åœ°éœ‡æ£€æµ‹", cellClass: "subsun", fullContentEn: "Contemporary volcanology employs sophisticated instruments and methodologies to detect precursor signals that may indicate impending eruptions.", fullContentZh: "å½“ä»£ç«å±±å­¦é‡‡ç”¨å¤æ‚çš„ä»ªå™¨å’Œæ–¹æ³•æ¥æ£€æµ‹å¯èƒ½è¡¨æ˜å³å°†å–·å‘çš„å‰å…†ä¿¡å·ã€‚"},
                        {titleEn: "Warning System Development", titleZh: "é¢„è­¦ç³»ç»Ÿå¼€å‘", contentEn: "Multi-parameter alert systems integrate various data sources to provide timely evacuation notifications to vulnerable populations.", contentZh: "å¤šå‚æ•°è­¦æŠ¥ç³»ç»Ÿæ•´åˆå„ç§æ•°æ®æºï¼Œå‘æ˜“å—å½±å“çš„äººå£æä¾›åŠæ—¶çš„ç–æ•£é€šçŸ¥ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Activity Escalation Recognition", titleZh: "æ´»åŠ¨å‡çº§è¯†åˆ«", contentEn: "Recent increases in seismic frequency near Mount Fuji have prompted heightened surveillance and public awareness campaigns.", contentZh: "å¯Œå£«å±±é™„è¿‘åœ°éœ‡é¢‘ç‡çš„è¿‘æœŸå¢åŠ ä¿ƒä½¿åŠ å¼ºç›‘è§†å’Œå…¬ä¼—æ„è¯†è¿åŠ¨ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Technological Infrastructure", titleZh: "æŠ€æœ¯åŸºç¡€è®¾æ–½", contentEn: "Modern monitoring requires substantial investment in sensor networks, data transmission systems, and analytical software.", contentZh: "ç°ä»£ç›‘æµ‹éœ€è¦åœ¨ä¼ æ„Ÿå™¨ç½‘ç»œã€æ•°æ®ä¼ è¾“ç³»ç»Ÿå’Œåˆ†æè½¯ä»¶æ–¹é¢è¿›è¡Œå¤§é‡æŠ•èµ„ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Behavioral Uniqueness", titleZh: "è¡Œä¸ºç‹¬ç‰¹æ€§", contentEn: "Each volcano exhibits distinctive patterns, preventing scientists from developing universal prediction models applicable to all systems.", contentZh: "æ¯åº§ç«å±±éƒ½è¡¨ç°å‡ºç‹¬ç‰¹çš„æ¨¡å¼ï¼Œä½¿ç§‘å­¦å®¶æ— æ³•å¼€å‘é€‚ç”¨äºæ‰€æœ‰ç³»ç»Ÿçš„é€šç”¨é¢„æµ‹æ¨¡å‹ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 4: PopocatÃ©petl Details
                {
                    titleEn: "PopocatÃ©petl",
                    titleZh: "æ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±",
                    cells: [
                        {titleEn: "Linguistic Heritage", titleZh: "è¯­è¨€é—äº§", contentEn: "The NÃ¡huatl name 'smoking mountain' reflects indigenous observations of the volcano's perpetual gas emissions.", contentZh: "çº³ç“¦ç‰¹å°”è¯­åç§°'å†’çƒŸä¹‹å±±'åæ˜ äº†åœŸè‘—äººå¯¹ç«å±±æŒç»­æ°”ä½“æ’æ”¾çš„è§‚å¯Ÿã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Elevation Significance", titleZh: "æµ·æ‹”æ„ä¹‰", contentEn: "As the world's tallest active volcano, PopocatÃ©petl's height amplifies both its visual prominence and eruption hazards.", contentZh: "ä½œä¸ºä¸–ç•Œä¸Šæœ€é«˜çš„æ´»ç«å±±ï¼Œæ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±çš„é«˜åº¦æ”¾å¤§äº†å…¶è§†è§‰æ˜¾è‘—æ€§å’Œå–·å‘å±é™©ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Capital Proximity", titleZh: "é¦–éƒ½é‚»è¿‘", contentEn: "Situated 70 kilometers from Mexico City, the volcano threatens one of the Western Hemisphere's largest urban centers.", contentZh: "æ³¢æ³¢ç«å±±ä½äºè·å¢¨è¥¿å“¥åŸ70å…¬é‡Œå¤„ï¼Œå¨èƒç€è¥¿åŠçƒæœ€å¤§çš„åŸå¸‚ä¸­å¿ƒä¹‹ä¸€ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Historical Timeline", titleZh: "å†å²æ—¶é—´çº¿", contentEn: "The AD 820 eruption represents the last catastrophic event, though smaller eruptions occur with concerning regularity.", contentZh: "å…¬å…ƒ820å¹´çš„å–·å‘ä»£è¡¨äº†æœ€åä¸€æ¬¡ç¾éš¾æ€§äº‹ä»¶ï¼Œå°½ç®¡è¾ƒå°çš„å–·å‘ä»¥ä»¤äººæ‹…å¿§çš„è§„å¾‹æ€§å‘ç”Ÿã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "PopocatÃ©petl", titleZh: "æ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±", contentEn: "Mexico's smoking mountain", contentZh: "å¢¨è¥¿å“¥çš„å†’çƒŸä¹‹å±±", descEn: "World's tallest active", descZh: "ä¸–ç•Œæœ€é«˜æ´»ç«å±±", cellClass: "subsun", fullContentEn: "PopocatÃ©petl maintains continuous volcanic activity, making it both a cultural landmark and an ever-present threat to millions of Mexican citizens.", fullContentZh: "æ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±ä¿æŒæŒç»­çš„ç«å±±æ´»åŠ¨ï¼Œä½¿å…¶æ—¢æ˜¯æ–‡åŒ–åœ°æ ‡ï¼Œåˆæ˜¯å¯¹æ•°ç™¾ä¸‡å¢¨è¥¿å“¥å…¬æ°‘çš„æŒç»­å¨èƒã€‚"},
                        {titleEn: "Contemporary Events", titleZh: "å½“ä»£äº‹ä»¶", contentEn: "The year 2000 eruption necessitated evacuating 26,000 residents, demonstrating modern vulnerability despite technological advances.", contentZh: "2000å¹´çš„å–·å‘éœ€è¦ç–æ•£26,000åå±…æ°‘ï¼Œå°½ç®¡æŠ€æœ¯è¿›æ­¥ï¼Œä»å±•ç¤ºäº†ç°ä»£è„†å¼±æ€§ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Inevitability Assessment", titleZh: "ä¸å¯é¿å…æ€§è¯„ä¼°", contentEn: "Volcanologists universally agree that major eruption recurrence is certain; uncertainty concerns only the timing.", contentZh: "ç«å±±å­¦å®¶æ™®éè®¤ä¸ºé‡å¤§å–·å‘çš„å†æ¬¡å‘ç”Ÿæ˜¯ç¡®å®šçš„ï¼›ä¸ç¡®å®šæ€§ä»…æ¶‰åŠæ—¶é—´ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Visual Omnipresence", titleZh: "è§†è§‰æ— å¤„ä¸åœ¨", contentEn: "The volcano's constant visibility from Mexico City serves as a daily reminder of geological vulnerability.", contentZh: "ä»å¢¨è¥¿å“¥åŸæŒç»­å¯è§çš„ç«å±±ä½œä¸ºåœ°è´¨è„†å¼±æ€§çš„æ—¥å¸¸æé†’ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Population Vulnerability Scale", titleZh: "äººå£è„†å¼±æ€§è§„æ¨¡", contentEn: "Twenty million people inhabit regions that could experience displacement, making El Popo one of Earth's most dangerous volcanoes.", contentZh: "2,000ä¸‡äººå±…ä½åœ¨å¯èƒ½ç»å†æµç¦»å¤±æ‰€çš„åœ°åŒºï¼Œä½¿æ³¢æ³¢ç«å±±æˆä¸ºåœ°çƒä¸Šæœ€å±é™©çš„ç«å±±ä¹‹ä¸€ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 5: CENTER - The original L1 grid (VIOLENT EARTH + 8 planets)
                {
                    titleEn: "Sacred Summits (L1 Grid)",
                    titleZh: "ç¥åœ£é«˜å³°ï¼ˆL1ç½‘æ ¼ï¼‰",
                    cells: [
                        {titleEn: "Mount Fuji", titleZh: "å¯Œå£«å±±", contentEn: "Japan's sacred mountain", contentZh: "æ—¥æœ¬çš„ç¥åœ£å±±è„‰", descEn: "3,776m, last erupted 1707", descZh: "æµ·æ‹”3,776ç±³ï¼Œæœ€åå–·å‘äº1707å¹´", cellClass: ""},
                        {titleEn: "Volcanic Threats", titleZh: "ç«å±±å¨èƒ", contentEn: "Dangers posed", contentZh: "æ„æˆçš„å±é™©", descEn: "Ash, lava, displacement", descZh: "ç«å±±ç°ã€ç†”å²©ã€æµç¦»å¤±æ‰€", cellClass: ""},
                        {titleEn: "Scientific Monitoring", titleZh: "ç§‘å­¦ç›‘æµ‹", contentEn: "Tracking activity", contentZh: "è¿½è¸ªæ´»åŠ¨", descEn: "Earthquake detection", descZh: "åœ°éœ‡æ£€æµ‹", cellClass: ""},
                        {titleEn: "PopocatÃ©petl", titleZh: "æ³¢æ³¢å¡ç‰¹ä½©ç‰¹ç«å±±", contentEn: "Mexico's smoking mountain", contentZh: "å¢¨è¥¿å“¥çš„å†’çƒŸä¹‹å±±", descEn: "World's tallest active", descZh: "ä¸–ç•Œæœ€é«˜æ´»ç«å±±", cellClass: ""},
                        {titleEn: "VIOLENT EARTH", titleZh: "æš´çƒˆåœ°çƒ", contentEn: "Sacred summits", contentZh: "ç¥åœ£é«˜å³°", descEn: "Creators and destroyers", descZh: "åˆ›é€ è€…å’Œæ¯ç­è€…", cellClass: "subsun"},
                        {titleEn: "Religious Significance", titleZh: "å®—æ•™æ„ä¹‰", contentEn: "Spiritual meaning", contentZh: "ç²¾ç¥æ„ä¹‰", descEn: "Sacred holy sites", descZh: "ç¥åœ£åœ£åœ°", cellClass: ""},
                        {titleEn: "Human Settlement", titleZh: "äººç±»å®šå±…", contentEn: "Living near danger", contentZh: "å±…ä½åœ¨å±é™©é™„è¿‘", descEn: "Rich volcanic soils", descZh: "å¯Œå«ç«å±±åœŸå£¤", cellClass: ""},
                        {titleEn: "Cultural Practices", titleZh: "æ–‡åŒ–ä¹ ä¿—", contentEn: "Honoring volcanoes", contentZh: "å´‡æ•¬ç«å±±", descEn: "Ceremonies and rituals", descZh: "ä»ªå¼å’Œå…¸ç¤¼", cellClass: ""},
                        {titleEn: "Pacific Ring of Fire", titleZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦", contentEn: "Volcanic zone", contentZh: "ç«å±±åœ°å¸¦", descEn: "Tectonic plate boundaries", descZh: "æ„é€ æ¿å—è¾¹ç•Œ", cellClass: ""}
                    ]
                },
                // SUBGRID 6: Religious Significance
                {
                    titleEn: "Religious Significance",
                    titleZh: "å®—æ•™æ„ä¹‰",
                    cells: [
                        {titleEn: "Shinto Integration", titleZh: "ç¥é“æ•™æ•´åˆ", contentEn: "Mount Fuji occupies a central position in Japanese indigenous religion, representing the manifestation of kami (divine spirits).", contentZh: "å¯Œå£«å±±åœ¨æ—¥æœ¬æœ¬åœŸå®—æ•™ä¸­å æ®æ ¸å¿ƒä½ç½®ï¼Œä»£è¡¨ç€ç¥çµï¼ˆç¥åœ£ç²¾ç¥ï¼‰çš„ä½“ç°ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Holy Site Designation", titleZh: "åœ£åœ°æŒ‡å®š", contentEn: "Religious authorities have consecrated these mountains as sacred spaces where ordinary rules of existence become suspended.", contentZh: "å®—æ•™å½“å±€å·²å°†è¿™äº›å±±è„‰å¥‰ä¸ºç¥åœ£ç©ºé—´ï¼Œåœ¨é‚£é‡Œæ™®é€šçš„å­˜åœ¨è§„åˆ™è¢«æš‚åœã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Pilgrimage Traditions", titleZh: "æœåœ£ä¼ ç»Ÿ", contentEn: "Believers undertake arduous journeys to volcanic summits, viewing physical hardship as necessary for spiritual advancement.", contentZh: "ä¿¡å¾’è¿›è¡Œè‰°è‹¦çš„æ—…ç¨‹åˆ°è¾¾ç«å±±å±±é¡¶ï¼Œå°†èº«ä½“å›°éš¾è§†ä¸ºç²¾ç¥è¿›æ­¥çš„å¿…è¦æ¡ä»¶ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Appeasement Rituals", titleZh: "å®‰æŠšä»ªå¼", contentEn: "Communities present offerings to volcanic deities, attempting to negotiate protection from eruptions through ceremonial gifts.", contentZh: "ç¤¾åŒºå‘ç«å±±ç¥çµå‘ˆçŒ®ä¾›å“ï¼Œè¯•å›¾é€šè¿‡ä»ªå¼ç¤¼ç‰©åå•†å…å—å–·å‘çš„ä¿æŠ¤ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Religious Significance", titleZh: "å®—æ•™æ„ä¹‰", contentEn: "Spiritual meaning", contentZh: "ç²¾ç¥æ„ä¹‰", descEn: "Sacred holy sites", descZh: "ç¥åœ£åœ£åœ°", cellClass: "subsun", fullContentEn: "Volcanic mountains function as liminal spaces where human and divine realms intersect, serving as focal points for religious devotion and spiritual practice.", fullContentZh: "ç«å±±å±±è„‰ä½œä¸ºäººç±»å’Œç¥åœ£é¢†åŸŸäº¤æ±‡çš„è¾¹ç¼˜ç©ºé—´ï¼Œä½œä¸ºå®—æ•™å¥‰çŒ®å’Œç²¾ç¥å®è·µçš„ç„¦ç‚¹ã€‚"},
                        {titleEn: "Generational Transmission", titleZh: "ä»£é™…ä¼ æ‰¿", contentEn: "Ancient beliefs persist through centuries as elders transmit religious knowledge and practices to younger generations.", contentZh: "å¤è€çš„ä¿¡ä»°é€šè¿‡é•¿è¾ˆå‘å¹´è½»ä¸€ä»£ä¼ é€’å®—æ•™çŸ¥è¯†å’Œå®è·µè€ŒæŒç»­æ•°ä¸ªä¸–çºªã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Protective Prayers", titleZh: "ä¿æŠ¤ç¥ˆç¥·", contentEn: "Regular prayer cycles seek divine intervention to prevent catastrophic eruptions and maintain community safety.", contentZh: "å®šæœŸçš„ç¥ˆç¥·å‘¨æœŸå¯»æ±‚ç¥åœ£å¹²é¢„ä»¥é˜²æ­¢ç¾éš¾æ€§å–·å‘å¹¶ç»´æŠ¤ç¤¾åŒºå®‰å…¨ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Healing Mythology", titleZh: "æ²»ç–—ç¥è¯", contentEn: "Religious traditions attribute curative properties to volcanic waters, viewing the mountain as a source of physical restoration.", contentZh: "å®—æ•™ä¼ ç»Ÿå°†æ²»ç–—ç‰¹æ€§å½’äºç«å±±æ°´ï¼Œå°†å±±è„‰è§†ä¸ºèº«ä½“æ¢å¤çš„æ¥æºã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Transformative Rites", titleZh: "è½¬åŒ–ä»ªå¼", contentEn: "Climbing expeditions serve as rites of passage marking transitions between life stages and social statuses.", contentZh: "ç™»å±±æ¢é™©ä½œä¸ºæ ‡å¿—ç”Ÿå‘½é˜¶æ®µå’Œç¤¾ä¼šåœ°ä½ä¹‹é—´è½¬å˜çš„æˆäººä»ªå¼ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 7: Human Settlement
                {
                    titleEn: "Human Settlement",
                    titleZh: "äººç±»å®šå±…",
                    cells: [
                        {titleEn: "Soil Composition Advantages", titleZh: "åœŸå£¤æˆåˆ†ä¼˜åŠ¿", contentEn: "Decomposed volcanic material creates exceptionally nutrient-rich soils containing minerals essential for robust plant growth.", contentZh: "åˆ†è§£çš„ç«å±±ç‰©è´¨åˆ›é€ äº†å¼‚å¸¸å¯Œå«è¥å…»çš„åœŸå£¤ï¼ŒåŒ…å«å¯¹å¼ºå¥æ¤ç‰©ç”Ÿé•¿è‡³å…³é‡è¦çš„çŸ¿ç‰©è´¨ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Tropical Crop Production", titleZh: "çƒ­å¸¦ä½œç‰©ç”Ÿäº§", contentEn: "Central American volcanic regions support extensive banana plantations that form the economic foundation for entire communities.", contentZh: "ä¸­ç¾æ´²ç«å±±åœ°åŒºæ”¯æŒå¹¿æ³›çš„é¦™è•‰ç§æ¤å›­ï¼Œæ„æˆæ•´ä¸ªç¤¾åŒºçš„ç»æµåŸºç¡€ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Premium Coffee Cultivation", titleZh: "ä¼˜è´¨å’–å•¡ç§æ¤", contentEn: "Mountain slopes provide ideal microclimates and soil conditions for producing internationally sought-after coffee varieties.", contentZh: "å±±å¡æä¾›ç†æƒ³çš„å¾®æ°”å€™å’ŒåœŸå£¤æ¡ä»¶ï¼Œç”¨äºç”Ÿäº§å›½é™…ä¸Šå¤‡å—è¿½æ§çš„å’–å•¡å“ç§ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Viticulture Excellence", titleZh: "è‘¡è„æ ½åŸ¹å“è¶Š", contentEn: "California's volcanic terroir contributes distinctive mineral characteristics to wines, commanding premium market prices.", contentZh: "åŠ å·çš„ç«å±±é£åœŸä¸ºè‘¡è„é…’è´¡çŒ®ç‹¬ç‰¹çš„çŸ¿ç‰©ç‰¹å¾ï¼Œè·å¾—é«˜ä»·å¸‚åœºä»·æ ¼ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Human Settlement", titleZh: "äººç±»å®šå±…", contentEn: "Living near danger", contentZh: "å±…ä½åœ¨å±é™©é™„è¿‘", descEn: "Rich volcanic soils", descZh: "å¯Œå«ç«å±±åœŸå£¤", cellClass: "subsun", fullContentEn: "Economic imperatives rooted in volcanic soil fertility compel human populations to maintain settlements despite catastrophic eruption risks.", fullContentZh: "æ¤æ ¹äºç«å±±åœŸå£¤è‚¥åŠ›çš„ç»æµå¿…è¦æ€§è¿«ä½¿äººç±»ç¾¤ä½“å°½ç®¡å­˜åœ¨ç¾éš¾æ€§å–·å‘é£é™©ä»ç»´æŒå®šå±…ç‚¹ã€‚"},
                        {titleEn: "Staple Grain Systems", titleZh: "ä¸»ç²®ç³»ç»Ÿ", contentEn: "Indonesian rice production depends heavily on volcanic soil fertility, feeding millions across the archipelago.", contentZh: "å°åº¦å°¼è¥¿äºšçš„æ°´ç¨»ç”Ÿäº§ä¸¥é‡ä¾èµ–ç«å±±åœŸå£¤è‚¥åŠ›ï¼Œå…»æ´»æ•´ä¸ªç¾¤å²›çš„æ•°ç™¾ä¸‡äººã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Ancestral Land Bonds", titleZh: "ç¥–ä¼ åœŸåœ°çº½å¸¦", contentEn: "Multigenerational family ownership creates profound emotional attachments that transcend rational risk assessment.", contentZh: "å¤šä»£å®¶åº­æ‰€æœ‰æƒåˆ›é€ äº†è¶…è¶Šç†æ€§é£é™©è¯„ä¼°çš„æ·±åˆ»æƒ…æ„Ÿä¾æ‹ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Demographic Pressure", titleZh: "äººå£å‹åŠ›", contentEn: "Continuing population growth in volcanic zones exponentially increases the number of people exposed to eruption hazards.", contentZh: "ç«å±±åœ°åŒºæŒç»­çš„äººå£å¢é•¿å‘ˆæŒ‡æ•°çº§å¢åŠ æš´éœ²äºå–·å‘å±é™©çš„äººæ•°ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Immobility Factors", titleZh: "ä¸åŠ¨å› ç´ ", contentEn: "Farmers lack alternative employment opportunities and financial resources necessary for relocation, effectively trapping them near volcanoes.", contentZh: "å†œæ°‘ç¼ºä¹æ¬è¿æ‰€éœ€çš„æ›¿ä»£å°±ä¸šæœºä¼šå’Œè´¢æ”¿èµ„æºï¼Œæœ‰æ•ˆåœ°å°†ä»–ä»¬å›°åœ¨ç«å±±é™„è¿‘ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 8: Cultural Practices
                {
                    titleEn: "Cultural Practices",
                    titleZh: "æ–‡åŒ–ä¹ ä¿—",
                    cells: [
                        {titleEn: "Dawn Ascent Tradition", titleZh: "é»æ˜æ”€ç™»ä¼ ç»Ÿ", contentEn: "Pilgrims time their summit arrival to coincide with sunrise, viewing this moment as possessing special spiritual significance.", contentZh: "æœåœ£è€…å®‰æ’ä»–ä»¬çš„å±±é¡¶åˆ°è¾¾æ—¶é—´ä¸æ—¥å‡ºé‡åˆï¼Œå°†è¿™ä¸€æ—¶åˆ»è§†ä¸ºå…·æœ‰ç‰¹æ®Šçš„ç²¾ç¥æ„ä¹‰ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Nocturnal Climbing Practice", titleZh: "å¤œé—´æ”€ç™»å®è·µ", contentEn: "Night hiking allows participants to experience the mountain in darkness, intensifying the transformative nature of the journey.", contentZh: "å¤œé—´å¾’æ­¥æ—…è¡Œä½¿å‚ä¸è€…åœ¨é»‘æš—ä¸­ä½“éªŒå±±è„‰ï¼ŒåŠ å¼ºæ—…ç¨‹çš„è½¬åŒ–æ€§è´¨ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Ceremonial Gift-Giving", titleZh: "ä»ªå¼çŒ®ç¤¼", contentEn: "Festival participants carry offerings to present at sacred sites, attempting to establish reciprocal relationships with volcanic deities.", contentZh: "èŠ‚æ—¥å‚ä¸è€…æºå¸¦ä¾›å“åœ¨ç¥åœ£åœ°ç‚¹å‘ˆçŒ®ï¼Œè¯•å›¾ä¸ç«å±±ç¥çµå»ºç«‹äº’æƒ å…³ç³»ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Seasonal Ritual Cycles", titleZh: "å­£èŠ‚ä»ªå¼å‘¨æœŸ", contentEn: "Communities organize ceremonies according to agricultural calendars, aligning religious practice with planting and harvest periods.", contentZh: "ç¤¾åŒºæ ¹æ®å†œä¸šæ—¥å†ç»„ç»‡ä»ªå¼ï¼Œå°†å®—æ•™å®è·µä¸ç§æ¤å’Œæ”¶è·æ—¶æœŸå¯¹é½ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Cultural Practices", titleZh: "æ–‡åŒ–ä¹ ä¿—", contentEn: "Honoring volcanoes", contentZh: "å´‡æ•¬ç«å±±", descEn: "Ceremonies and rituals", descZh: "ä»ªå¼å’Œå…¸ç¤¼", cellClass: "subsun", fullContentEn: "Traditional ceremonies performed at volcanic mountains represent accumulated cultural wisdom regarding human relationships with powerful geological forces.", fullContentZh: "åœ¨ç«å±±å±±è„‰è¿›è¡Œçš„ä¼ ç»Ÿä»ªå¼ä»£è¡¨äº†å…³äºäººç±»ä¸å¼ºå¤§åœ°è´¨åŠ›é‡å…³ç³»çš„ç§¯ç´¯æ–‡åŒ–æ™ºæ…§ã€‚"},
                        {titleEn: "Summit Dedication Practices", titleZh: "å±±é¡¶å¥‰çŒ®å®è·µ", contentEn: "Climbers transport ceremonial objects to high-altitude locations, demonstrating devotion through physical sacrifice.", contentZh: "ç™»å±±è€…å°†ä»ªå¼ç‰©å“è¿é€åˆ°é«˜æµ·æ‹”åœ°ç‚¹ï¼Œé€šè¿‡èº«ä½“ç‰ºç‰²å±•ç¤ºå¥‰çŒ®ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Agricultural Petitions", titleZh: "å†œä¸šè¯·æ„¿", contentEn: "Farmers perform rain-requesting ceremonies, seeking divine intervention to ensure adequate precipitation for crops.", contentZh: "å†œæ°‘è¿›è¡Œç¥ˆé›¨ä»ªå¼ï¼Œå¯»æ±‚ç¥åœ£å¹²é¢„ä»¥ç¡®ä¿ä½œç‰©æœ‰è¶³å¤Ÿçš„é™æ°´ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Harvest Protection Rituals", titleZh: "ä¸°æ”¶ä¿æŠ¤ä»ªå¼", contentEn: "Annual ceremonies request volcanic deities to refrain from erupting during critical growing seasons.", contentZh: "å¹´åº¦ä»ªå¼è¯·æ±‚ç«å±±ç¥çµåœ¨å…³é”®ç”Ÿé•¿å­£èŠ‚é¿å…å–·å‘ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Cosmological Framework", titleZh: "å®‡å®™å­¦æ¡†æ¶", contentEn: "Traditional worldviews conceptualize volcanoes as simultaneously divine entities, physical landscapes, and extensions of human identity.", contentZh: "ä¼ ç»Ÿä¸–ç•Œè§‚å°†ç«å±±æ¦‚å¿µåŒ–ä¸ºåŒæ—¶æ˜¯ç¥åœ£å®ä½“ã€ç‰©ç†æ™¯è§‚å’Œäººç±»èº«ä»½çš„å»¶ä¼¸ã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                },
                // SUBGRID 9: Pacific Ring of Fire
                {
                    titleEn: "Pacific Ring of Fire",
                    titleZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦",
                    cells: [
                        {titleEn: "Geometric Configuration", titleZh: "å‡ ä½•é…ç½®", contentEn: "The Ring forms a 40,000-kilometer horseshoe-shaped arc encircling the Pacific Ocean basin across multiple continents.", contentZh: "ç«å±±å¸¦å½¢æˆä¸€ä¸ª40,000å…¬é‡Œçš„é©¬è¹„å½¢å¼§ï¼Œè·¨è¶Šå¤šä¸ªå¤§é™†ç¯ç»•å¤ªå¹³æ´‹ç›†åœ°ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Plate Boundary Dynamics", titleZh: "æ¿å—è¾¹ç•ŒåŠ¨åŠ›å­¦", contentEn: "Multiple tectonic plates converge, diverge, and slide past one another, creating zones of intense geological instability.", contentZh: "å¤šä¸ªæ„é€ æ¿å—æ±‡èšã€åˆ†ç¦»å’Œç›¸äº’æ»‘åŠ¨ï¼Œåˆ›é€ å¼ºçƒˆåœ°è´¨ä¸ç¨³å®šçš„åŒºåŸŸã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Seismic Concentration", titleZh: "åœ°éœ‡é›†ä¸­", contentEn: "Approximately 90% of Earth's earthquakes occur within this zone, making it the planet's primary source of seismic activity.", contentZh: "åœ°çƒçº¦90%çš„åœ°éœ‡å‘ç”Ÿåœ¨è¿™ä¸ªåŒºåŸŸå†…ï¼Œä½¿å…¶æˆä¸ºåœ°çƒåœ°éœ‡æ´»åŠ¨çš„ä¸»è¦æ¥æºã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Volcanic Prevalence", titleZh: "ç«å±±æ™®éæ€§", contentEn: "The Ring contains roughly 75% of the world's active volcanoes, demonstrating the connection between plate tectonics and volcanism.", contentZh: "ç«å±±å¸¦åŒ…å«ä¸–ç•Œçº¦75%çš„æ´»ç«å±±ï¼Œå±•ç¤ºäº†æ¿å—æ„é€ ä¸ç«å±±ä½œç”¨ä¹‹é—´çš„è”ç³»ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Pacific Ring of Fire", titleZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦", contentEn: "Volcanic zone", contentZh: "ç«å±±åœ°å¸¦", descEn: "Tectonic plate boundaries", descZh: "æ„é€ æ¿å—è¾¹ç•Œ", cellClass: "subsun", fullContentEn: "The Pacific Ring of Fire represents Earth's most geologically active zone, where converging tectonic plates generate the majority of worldwide seismic and volcanic phenomena.", fullContentZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦ä»£è¡¨åœ°çƒä¸Šåœ°è´¨æœ€æ´»è·ƒçš„åŒºåŸŸï¼Œæ±‡èšçš„æ„é€ æ¿å—åœ¨æ­¤äº§ç”Ÿå…¨çƒå¤§éƒ¨åˆ†åœ°éœ‡å’Œç«å±±ç°è±¡ã€‚"},
                        {titleEn: "Subduction Zone Mechanics", titleZh: "ä¿¯å†²å¸¦åŠ›å­¦", contentEn: "Oceanic plates descending beneath continental plates generate magma through pressure and heat, fueling volcanic eruptions.", contentZh: "æµ·æ´‹æ¿å—åœ¨å¤§é™†æ¿å—ä¸‹æ–¹ä¸‹é™é€šè¿‡å‹åŠ›å’Œçƒ­é‡äº§ç”Ÿå²©æµ†ï¼Œæ¨åŠ¨ç«å±±å–·å‘ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Atmospheric Impact Potential", titleZh: "å¤§æ°”å½±å“æ½œåŠ›", contentEn: "Major Ring of Fire eruptions can inject massive quantities of particles into the stratosphere, affecting global climate patterns.", contentZh: "ç¯å¤ªå¹³æ´‹ç«å±±å¸¦çš„é‡å¤§å–·å‘å¯ä»¥å‘å¹³æµå±‚æ³¨å…¥å¤§é‡é¢—ç²’ï¼Œå½±å“å…¨çƒæ°”å€™æ¨¡å¼ã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "Designated High-Risk Sites", titleZh: "æŒ‡å®šé«˜é£é™©åœ°ç‚¹", contentEn: "Scientists identify sixteen 'Decade Volcanoes' representing the most dangerous systems requiring intensive monitoring.", contentZh: "ç§‘å­¦å®¶ç¡®å®šäº†16åº§'åå¹´ç«å±±'ï¼Œä»£è¡¨éœ€è¦å¯†é›†ç›‘æµ‹çš„æœ€å±é™©ç³»ç»Ÿã€‚", descEn: "", descZh: "", cellClass: ""},
                        {titleEn: "International Implications", titleZh: "å›½é™…å½±å“", contentEn: "The Ring spans multiple nations across Asia, the Americas, and Oceania, necessitating coordinated international disaster preparedness efforts.", contentZh: "ç«å±±å¸¦è·¨è¶Šäºšæ´²ã€ç¾æ´²å’Œå¤§æ´‹æ´²çš„å¤šä¸ªå›½å®¶ï¼Œéœ€è¦åè°ƒçš„å›½é™…ç¾å®³å‡†å¤‡å·¥ä½œã€‚", descEn: "", descZh: "", cellClass: ""}
                    ]
                }
            ]
        };

        let currentLevel = 1;
        let selectedSubgrid = null;
        let globalFlipped = false;
        let isFullscreen = false;
        let frontLang = 'en';

        function createCell(cellData, useFullContent = false, position = null, cellNumber = null) {
            const container = document.createElement('div');
            container.className = 'cell-container';
            
            const flipper = document.createElement('div');
            flipper.className = 'cell-flipper';
            flipper.addEventListener('click', function(e) {
                // Don't flip if clicking on media buttons
                if (e.target.closest('.media-btn') || e.target.closest('.media-player')) {
                    e.stopPropagation();
                    return;
                }
                e.stopPropagation();
                container.classList.toggle('flipped');
            });
            
            // Front is ALWAYS English, Back is ALWAYS Chinese
            const frontContentToUse = useFullContent && cellData.fullContentEn ? cellData.fullContentEn : cellData.contentEn;
            const backContentToUse = useFullContent && cellData.fullContentZh ? cellData.fullContentZh : cellData.contentZh;
            
            const frontTitle = cellData.titleEn;
            const frontContent = frontContentToUse;
            const frontDesc = cellData.descEn;
            
            const backTitle = cellData.titleZh;
            const backContent = backContentToUse;
            const backDesc = cellData.descZh;
            
            const posClass = position ? `pos-${position}` : '';
            
            const front = document.createElement('div');
            front.className = `cell front ${cellData.cellClass} ${posClass}`.trim();
            
            // Build front HTML with multimedia support
            let frontHTML = '';
            
            // Add image if present
            if (cellData.image) {
                frontHTML += `<img src="${cellData.image}" alt="${cellData.imageAlt || frontTitle}" class="cell-image">`;
            }
            
            frontHTML += `<div class="cell-title">${frontTitle}</div>`;
            frontHTML += `<div class="cell-content">${frontContent}</div>`;
            
            if (!useFullContent && frontDesc) {
                frontHTML += `<div class="cell-content" style="margin-top: 8px; font-size: 0.85em; font-style: italic;">${frontDesc}</div>`;
            }
            
            // Add multimedia controls if present
            if (cellData.audioUrl || cellData.videoUrl) {
                frontHTML += '<div class="media-controls">';
                
                if (cellData.audioUrl) {
                    const audioSize = cellData.audioSize ? `<span class="media-size">(${cellData.audioSize})</span>` : '';
                    frontHTML += `
                        <div class="media-item">
                            <span class="media-icon">ğŸ§</span>
                            <span class="media-title">${cellData.audioTitle || 'Audio'}</span>
                            <a href="${cellData.audioUrl}" download class="media-btn" onclick="event.stopPropagation();">â¬‡ï¸ Download</a>
                            ${audioSize}
                        </div>
                    `;
                }
                
                if (cellData.videoUrl) {
                    const videoSize = cellData.videoSize ? `<span class="media-size">(${cellData.videoSize})</span>` : '';
                    frontHTML += `
                        <div class="media-item">
                            <span class="media-icon">ğŸ¬</span>
                            <span class="media-title">${cellData.videoTitle || 'Video'}</span>
                            <a href="${cellData.videoUrl}" download class="media-btn" onclick="event.stopPropagation();">â¬‡ï¸ Download</a>
                            ${videoSize}
                        </div>
                    `;
                }
                
                frontHTML += '</div>';
            }
            
            frontHTML += `<div class="flip-indicator">ğŸ”„</div>`;
            if (cellNumber !== null) {
                frontHTML += `<div class="cell-number">${cellNumber}</div>`;
            }
            front.innerHTML = frontHTML;
            
            // Build back (Chinese) side - similar structure
            const back = document.createElement('div');
            back.className = `cell back ${cellData.cellClass} ${posClass}`.trim();
            
            let backHTML = '';
            
            // Add image if present (same image on both sides)
            if (cellData.image) {
                backHTML += `<img src="${cellData.image}" alt="${cellData.imageAlt || backTitle}" class="cell-image">`;
            }
            
            backHTML += `<div class="cell-title">${backTitle}</div>`;
            backHTML += `<div class="cell-content">${backContent}</div>`;
            
            if (!useFullContent && backDesc) {
                backHTML += `<div class="cell-content" style="margin-top: 8px; font-size: 0.85em; font-style: italic;">${backDesc}</div>`;
            }
            
            // Add same multimedia controls on back
            if (cellData.audioUrl || cellData.videoUrl) {
                backHTML += '<div class="media-controls">';
                
                if (cellData.audioUrl) {
                    const audioSize = cellData.audioSize ? `<span class="media-size">(${cellData.audioSize})</span>` : '';
                    backHTML += `
                        <div class="media-item">
                            <span class="media-icon">ğŸ§</span>
                            <span class="media-title">${cellData.audioTitle || 'éŸ³é¢‘'}</span>
                            <a href="${cellData.audioUrl}" download class="media-btn" onclick="event.stopPropagation();">â¬‡ï¸ ä¸‹è½½</a>
                            ${audioSize}
                        </div>
                    `;
                }
                
                if (cellData.videoUrl) {
                    const videoSize = cellData.videoSize ? `<span class="media-size">(${cellData.videoSize})</span>` : '';
                    backHTML += `
                        <div class="media-item">
                            <span class="media-icon">ğŸ¬</span>
                            <span class="media-title">${cellData.videoTitle || 'è§†é¢‘'}</span>
                            <a href="${cellData.videoUrl}" download class="media-btn" onclick="event.stopPropagation();">â¬‡ï¸ ä¸‹è½½</a>
                            ${videoSize}
                        </div>
                    `;
                }
                
                backHTML += '</div>';
            }
            
            backHTML += `<div class="flip-indicator">ğŸ”„</div>`;
            if (cellNumber !== null) {
                backHTML += `<div class="cell-number">${cellNumber}</div>`;
            }
            back.innerHTML = backHTML;
            
            flipper.appendChild(front);
            flipper.appendChild(back);
            container.appendChild(flipper);
            
            return container;
        }

        // Media player toggle functions
        function toggleAudio(audioId) {
            const player = document.getElementById(audioId);
            if (player) {
                player.classList.toggle('active');
                const audio = player.querySelector('audio');
                if (player.classList.contains('active')) {
                    audio.play();
                } else {
                    audio.pause();
                }
            }
        }

        function toggleVideo(videoId) {
            const player = document.getElementById(videoId);
            if (player) {
                player.classList.toggle('active');
                const video = player.querySelector('video');
                if (player.classList.contains('active')) {
                    video.play();
                } else {
                    video.pause();
                }
            }
        }

        function renderGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            grid.className = 'grid level-' + currentLevel;
            
            if (currentLevel === 0) {
                contentData.L0.forEach(cellData => {
                    const cell = createCell(cellData, false);
                    grid.appendChild(cell);
                });
            } else if (currentLevel === 1) {
                contentData.L1.forEach((cellData, index) => {
                    // Cell numbering: 0 for center (index 4), 1-8 for planets
                    // i=0â†’1, i=1â†’2, i=2â†’3, i=3â†’4, i=4â†’0, i=5â†’5, i=6â†’6, i=7â†’7, i=8â†’8
                    const cellNumber = index === 4 ? 0 : (index < 4 ? index + 1 : index);
                    const cell = createCell(cellData, false, index + 1, cellNumber);
                    grid.appendChild(cell);
                });
            } else if (currentLevel === 2 && selectedSubgrid === null) {
                contentData.L2.forEach((subgridData, subgridIndex) => {
                    const subgridDiv = document.createElement('div');
                    subgridDiv.className = 'subgrid';
                    
                    subgridData.cells.forEach((cellData, cellIndex) => {
                        // Create simplified cell for L2 overview - title only
                        const container = document.createElement('div');
                        container.className = 'cell-container';
                        
                        const flipper = document.createElement('div');
                        flipper.className = 'cell-flipper';
                        
                        const frontTitle = cellData.titleEn;
                        const backTitle = cellData.titleZh;
                        
                        const front = document.createElement('div');
                        // For subsuns (center cells), use the subgrid's position to maintain color from L1
                        // For central 3x3 grid (subgridIndex === 4), assign position classes to all cells
                        let posClass = '';
                        if (cellData.cellClass === 'subsun') {
                            posClass = `pos-${subgridIndex + 1}`;
                        } else if (subgridIndex === 4) {
                            // Central 3x3 grid - assign position classes to match L1
                            posClass = `pos-${cellIndex + 1}`;
                        }
                        front.className = `cell front ${cellData.cellClass} ${posClass}`.trim();
                        front.innerHTML = `<div class="cell-title">${frontTitle}</div>`;
                        
                        const back = document.createElement('div');
                        back.className = `cell back ${cellData.cellClass} ${posClass}`.trim();
                        back.innerHTML = `<div class="cell-title">${backTitle}</div>`;
                        
                        flipper.appendChild(front);
                        flipper.appendChild(back);
                        container.appendChild(flipper);
                        
                        subgridDiv.appendChild(container);
                    });
                    
                    // Add overlay AFTER cells so it covers them properly
                    const overlay = document.createElement('div');
                    overlay.className = 'subgrid-overlay';
                    // Use IIFE to properly capture the index in the closure
                    overlay.addEventListener('click', ((idx) => {
                        return () => zoomToSubgrid(idx);
                    })(subgridIndex));
                    subgridDiv.appendChild(overlay);
                    
                    grid.appendChild(subgridDiv);
                });
            } else if (currentLevel === 2 && selectedSubgrid !== null) {
                grid.className = 'grid level-2-5';
                const subgridData = contentData.L2[selectedSubgrid];
                
                const titleDiv = document.createElement('div');
                titleDiv.className = 'subgrid-title';
                titleDiv.textContent = frontLang === 'en' ? subgridData.titleEn : subgridData.titleZh;
                grid.appendChild(titleDiv);
                
                subgridData.cells.forEach((cellData, cellIndex) => {
                    // For subsuns, use the subgrid's position to maintain color from L1
                    const position = cellData.cellClass === 'subsun' ? selectedSubgrid + 1 : null;
                    const cell = createCell(cellData, true, position); // Use FULL content for L2.5 zoomed view
                    grid.appendChild(cell);
                });
            }
            
            updateControls();
        }

        function updateControls() {
            document.getElementById('zoomIn').disabled = (currentLevel === 0);
            document.getElementById('zoomOut').disabled = (currentLevel === 2);
            
            document.getElementById('backBtn').style.display = 
                (currentLevel === 2 && selectedSubgrid !== null) ? 'block' : 'none';
            
            const labels = [
                'Level 0: Core Concept - Violent Earth',
                'Level 1: Sacred Summits Overview',
                'Level 2: Detailed View (9 Topics)'
            ];
            
            if (currentLevel === 2 && selectedSubgrid !== null) {
                const subgridTitle = frontLang === 'en' 
                    ? contentData.L2[selectedSubgrid].titleEn 
                    : contentData.L2[selectedSubgrid].titleZh;
                document.getElementById('levelIndicator').textContent = 'Level 2.5: ' + subgridTitle;
            } else {
                document.getElementById('levelIndicator').textContent = labels[currentLevel];
            }
        }

        function zoomToSubgrid(index) {
            console.log('Zooming to subgrid index:', index);
            console.log('Subgrid title:', contentData.L2[index].titleEn);
            selectedSubgrid = index;
            renderGrid();
        }

        document.getElementById('zoomIn').addEventListener('click', () => {
            if (currentLevel > 0) {
                currentLevel--;
                selectedSubgrid = null;
                renderGrid();
            }
        });

        document.getElementById('zoomOut').addEventListener('click', () => {
            if (currentLevel < 2) {
                currentLevel++;
                selectedSubgrid = null;
                renderGrid();
            }
        });

        document.getElementById('backBtn').addEventListener('click', () => {
            selectedSubgrid = null;
            renderGrid();
        });

        document.getElementById('flipAll').addEventListener('click', () => {
            globalFlipped = !globalFlipped;
            document.getElementById('gridContainer').classList.toggle('global-flip');
            document.getElementById('flipAll').textContent = globalFlipped ? 'Flip Back ğŸ”„' : 'Flip All ğŸ”„';
        });

        document.getElementById('langToggle').addEventListener('click', () => {
            frontLang = frontLang === 'en' ? 'zh' : 'en';
            document.getElementById('langToggle').textContent = 
                frontLang === 'en' ? 'UI Language: EN ğŸŒ' : 'UI Language: ä¸­æ–‡ ğŸŒ';
            
            renderGrid();
        });

        document.getElementById('fullscreen').addEventListener('click', () => {
            isFullscreen = !isFullscreen;
            document.body.classList.toggle('fullscreen-mode');
            document.getElementById('fullscreen').textContent = isFullscreen ? 'Exit âœ•' : 'Presentation Mode ğŸ–¥ï¸';
        });

        document.addEventListener('keydown', e => {
            if (e.key === 'f' || e.key === 'F') {
                document.getElementById('fullscreen').click();
            } else if (e.key === 'Escape' && isFullscreen) {
                document.getElementById('fullscreen').click();
            } else if (e.key === 'l' || e.key === 'L') {
                document.getElementById('langToggle').click();
            }
        });

        renderGrid();
    </script>
</body>
</html>
